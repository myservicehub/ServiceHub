<analysis>
The trajectory details the iterative development of , a full-stack application for the Nigerian market. Starting from an MVP, the AI engineer incrementally added significant features based on user requirements. Key phases included evolving from a messaging system to a Show Interest lead generation model, implementing a robust Rating & Review system, and establishing a comprehensive coin-based Wallet system with admin controls for funding and access fees. A viral Referral system with identity verification was then integrated, boosting user acquisition and trust. Each phase involved detailed backend and frontend implementation, rigorous testing, and frequent user interaction for clarification. The project maintains a strong focus on secure environment variable management and adherence to API routing rules. The current work is focused on integrating Google Maps for location-based job matching and tradesperson travel preferences, making the application highly tailored and user-centric for its target market.
</analysis>

<product_requirements>
The goal is to develop , a pixel-perfect, responsive full-stack application (React, FastAPI, MongoDB) for the Nigerian market. Initially, it included rebranding, user authentication, multi-step job posting for homeowners, and quote/interest management for tradespeople. User profiles and tradesperson portfolios were added. A key pivot established a lead generation marketplace where tradespeople Show Interest in jobs, replacing direct messaging. Further enhancements include a homeowner interest review system, a notification system (email/SMS), and a comprehensive rating and review system. Most recently, a coin-based wallet system was implemented for access fees, allowing tradespeople to fund wallets via bank transfer (Kuda Bank) and administrators to manage fees and verify payments. A referral system rewards users (5 coins for verified sign-up, 15 coins for withdrawal) with custom links and ID/document verification. The current focus is integrating Google Maps for location-based job matching, enabling tradespeople to view nearby jobs and set travel distances. The final aim is production deployment, including Paystack integration (though manual payment was chosen).
</product_requirements>

<key_technical_concepts>
- Full-stack: React.js, FastAPI, MongoDB (Motor AsyncIOMotorClient)
- UI/UX: Tailwind CSS, ShadCN UI, React Router DOM
- API: Axios, JWT, bcrypt, Pydantic, UUIDs for IDs
- State Management: React Context API
- Environment:  files, Kubernetes, Supervisor
- Image Handling: Pillow
- External Integrations: Google Maps API, Paystack (initially planned, then moved to manual bank transfer wallet system)
</key_technical_concepts>

<code_architecture>

- : Main FastAPI app.
    - **Changes**: Integrated new , , , , , and  routers.
- : Core Pydantic models.
    - **Changes**: Added/updated  models, , , , , , , , , .  model updated with , .  updated with , , .
- : Pydantic models for authentication.
    - **Changes**:  model updated to include , , , .  and  models updated with optional .
- : Handles MongoDB interactions.
    - **Changes**: Added methods for , ,  management, and extensive CRUD operations for , ,  tracking, and . Includes new , , , , , , , , , and location-based filtering/distance calculation.
- : API for Show Interest.
    - **Changes**:  logic updated to integrate with the new wallet system for access fee deduction.
- : **NEW.**
    - **Importance**: API endpoints for managing user wallets, funding, and transactions.
- : **NEW.**
    - **Importance**: API endpoints for administrative tasks, including funding request approval/rejection, verification management, and job access fee settings.
- : **NEW.**
    - **Importance**: API endpoints for user referral statistics, code generation, document verification uploads, and withdrawal eligibility checks.
- : Authentication API.
    - **Changes**: Modified registration processes (, ) to handle  and record referral data. Added endpoints for updating user location and travel distance (, ).
- : API for jobs.
    - **Changes**: Job creation updated to include default access fee. Added location-based endpoints like  for filtered job searches.
- : Frontend environment variables.
    - **Changes**: Added .
- : Frontend dependencies.
    - **Changes**: Added .
- : Main React app routing.
    - **Changes**: Added routes for notifications, reviews, , , , and .
- : Frontend API client.
    - **Changes**: Updated  to use  correctly.
- : **NEW.**
    - **Importance**: Frontend API client for wallet management.
- : **NEW.**
    - **Importance**: Frontend API client for referral system interactions.
- : Global navigation bar.
    - **Changes**: Integrated , My Reviews, Wallet (for tradespeople), and Referrals links.
- : Multi-step job posting form.
    - **Changes**: Modified to a 5-step process, with Step 5 for homeowner account creation, including password fields and account benefits. Integrated  for job coordinates.
- : **NEW.**
    - **Importance**: Displays user's current wallet balance.
- : **NEW.**
    - **Importance**: Handles the UI for funding a wallet via bank transfer.
- : **NEW.**
    - **Importance**: Displays a list of user's wallet transactions.
- : **NEW.**
    - **Importance**: Reusable component for selecting a precise geographical location on a map.
- : **NEW.**
    - **Importance**: Displays jobs on an interactive Google Map.
- : **NEW.**
    - **Importance**: Modal for tradespeople to set their home location and preferred travel distance.
- : User signup form.
    - **Changes**: Added optional  field and integrated URL parameter parsing for  codes.
- : Page for tradespeople to browse jobs.
    - **Changes**: Updated to display access fees and perform wallet balance checks before showing interest. Currently being updated to include map/list toggle view, location-based filtering, and .
- : Page for homeowners to manage their jobs.
    - **Changes**: Added access fee display in job cards.
- : **NEW.**
    - **Importance**: Central page for wallet management, funding, and transaction history.
- : **NEW.**
    - **Importance**: Admin interface for managing funding requests, job access fees, and user verifications.
- : **NEW.**
    - **Importance**: User dashboard for referral statistics, code sharing, and social media integration.
- : **NEW.**
    - **Importance**: Page for users to upload identity documents for verification.
</code_architecture>

<pending_tasks>
- Real Notifications: Upgrade from mock email/SMS to real SendGrid/Twilio services.
- Advanced Features (Analytics, Search, Admin): Develop analytics dashboard, advanced job search and filtering beyond basic location, and further admin functionalities.
- Production Deployment: Configure Docker files and deployment scripts for Hostinger, and perform the actual deployment.
</pending_tasks>

<current_work>
Immediately prior to this summary request, the AI engineer was implementing the Google Maps integration (Phase 9E). This involved several backend and frontend updates.
On the backend, models were updated to include ,  for jobs and , ,  for tradesperson profiles. New database methods for distance calculation and location-based job filtering were added. API endpoints for location-based job search () and updating user/tradesperson location/travel distance (, ) were created.
On the frontend, the Google Maps API key was added to , and  was installed. New components  and  were created. The  was modified to integrate the  for setting job coordinates. The  is actively being updated to include a map/list toggle view, location-based filtering, and to integrate these new map components. The  component was just created to allow tradespeople to configure their home location and travel distance. The backend services were restarted and verified to be running.
</current_work>

<optional_next_step>
Import and use the  in the  component.
</optional_next_step>

